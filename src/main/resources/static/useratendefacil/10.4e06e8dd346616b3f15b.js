(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{IzWv:function(e,a,n){"use strict";n.r(a),n.d(a,"LoginModule",(function(){return N}));var r=n("ofXK"),t=n("tk/3"),o=n("3Pt+"),i=n("fXoL"),l=n("01x/"),c=n("I5E4"),b=n("tyNb"),s=n("KmtZ");function d(e,a){1&e&&(i.Nb(0,"div",47),i.jc(1," Usu\xe1rio ou Senha n\xe3o encontrado! "),i.Nb(2,"a",48),i.Nb(3,"span",49),i.jc(4,"\xd7"),i.Mb(),i.Mb(),i.Mb())}function f(e,a){1&e&&(i.Nb(0,"div",50),i.jc(1," Senha deve conter 6 D\xedgitos! "),i.Nb(2,"a",48),i.Nb(3,"span",49),i.jc(4,"\xd7"),i.Mb(),i.Mb(),i.Mb())}function h(e,a){1&e&&i.Jb(0,"i",51)}function u(e,a){1&e&&i.Jb(0,"i",51)}function m(e,a){1&e&&(i.Nb(0,"div",52),i.Nb(1,"span"),i.jc(2,"Usu\xe1rio ou senha n\xe3o encontrado!"),i.Mb(),i.Mb())}function v(e,a){1&e&&(i.Nb(0,"div",53),i.Nb(1,"span"),i.jc(2," Senha alterado com sucesso!! "),i.Mb(),i.Mb())}const p=[{path:"",component:(()=>{class e{constructor(e,a,n,r,t){this.usuarioService=e,this.authService=a,this.fb=n,this.router=r,this.globalService=t,this.mostrarMens=!1,this.cpfCnpj="",this.senha="",this.id=0,this.msgError=!1,this.confereNovaSenha=!1,this.confereConfirmaNovaSenha=!1,this.msgErrorNovaSenha=!1,this.tamanhoDaSenha=!1}ngOnInit(){this.loginForm=this.fb.group({cpfCnpj:["",[]],senha:["",[]]}),this.loginAlteraForm=this.fb.group({cpfCnpj:["",[]],senha:["",[]],novaSenha:["",[o.k.minLength(6)]],confirmarNovaSenha:["",[o.k.minLength(6)]]})}fechar(){this.msgError=!1}logar(){let e=this.loginForm.get("cpfCnpj").value,a=this.loginForm.get("senha").value;this.authService.logar(e,a).subscribe(n=>{this.id=n.id,this.cpfCnpj=n.cpfCnpj,this.senha=n.senha,this.cpfCnpj===e&&this.senha===a&&(this.authService.setLoggedIn(!0),this.router.navigate(["agendamento/user",this.id]))},e=>{this.msgError=!0}),this.loginForm.reset()}validarNovaSenha(){let e=this.loginAlteraForm.get("novaSenha").value;this.confereNovaSenha=""!=e}validarConfereNovaSenha(){let e=this.loginAlteraForm.get("novaSenha").value,a=this.loginAlteraForm.get("confirmarNovaSenha").value;e===a&&(this.confereConfirmaNovaSenha=!0),""===a&&(this.confereConfirmaNovaSenha=!1)}validarDiferenca(){let e=this.loginAlteraForm.get("novaSenha").value,a=this.loginAlteraForm.get("confirmarNovaSenha").value;""!=e&&e==a||(this.confereConfirmaNovaSenha=!1)}alterarSenha(){if(this.loginAlteraForm.valid){let e=this.loginAlteraForm.get("cpfCnpj").value,a=this.loginAlteraForm.get("senha").value,n=this.loginAlteraForm.get("novaSenha").value,r=this.loginAlteraForm.get("confirmarNovaSenha").value;this.authService.alterarSenha(e,a,n,r).subscribe(e=>{this.globalService.saveShow("Alterada com Sucesso!","Senha"),this.confereNovaSenha=!1,this.confereConfirmaNovaSenha=!1},e=>{this.msgErrorNovaSenha=!0})}else this.tamanhoDaSenha=!0;this.loginAlteraForm.reset()}}return e.\u0275fac=function(a){return new(a||e)(i.Ib(l.a),i.Ib(c.a),i.Ib(o.c),i.Ib(b.b),i.Ib(s.a))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-login-form"]],decls:75,vars:8,consts:[[1,"border-top"],[1,"d-flex","justify-content-center","mt-2"],["class","alert alert-danger","role","alert",4,"ngIf"],[3,"formGroup"],[1,"d-flex","justify-content-center"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-group","col-md-12"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-user"],["id","id","type","text","formControlName","cpfCnpj","placeholder","CPF/CNPJ",1,"form-control",3,"blur"],[1,"fas","fa-key"],["id","senha","type","password","formControlName","senha","placeholder","SENHA",1,"form-control",3,"focus"],[1,"form-group","col-md-12",2,"margin-top","5px"],["type","submit",1,"btn","btn-success","col-md-12",3,"click"],[1,"fas","fa-sign-in-alt"],["type","button","data-toggle","modal","data-target","#ModalSenha",1,"btn","btn-primary","col-md-12"],["routerLink","/home",1,"btn","btn-warning","col-md-12"],[1,"fas","fa-backward"],["id","ModalSenha","tabindex","-1","role","dialog","aria-labelledby","TituloModalCentralizado","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","TituloModalCentralizado",1,"modal-title"],[1,"modal-body",2,"font-weight","bold","margin-left","120px"],["class","alert alert-warning","role","alert",4,"ngIf"],[2,"margin-left","100px"],[1,"form-group","col-md-8"],["id","idAtual","type","text","formControlName","cpfCnpj","placeholder","CPF/CNPJ",1,"form-control"],["id","senhaAtual","type","password","formControlName","senha","placeholder","SENHA ATUAL",1,"form-control"],["id","novaSenha","type","password","formControlName","novaSenha","placeholder","NOVA SENHA",1,"form-control",3,"input","blur","focus"],["class","fas fa-check","style","margin-left: 10px; margin-top: 10px; color: green;",4,"ngIf"],[1,"col-md-12","mb-2",2,"font-size","10pt","margin-top","-16px","font-weight","bold"],["id","confereConfirmaNovasenha","type","password","formControlName","confirmarNovaSenha","placeholder","CONFIRMA SENHA",1,"form-control",3,"input","blur","focus"],[1,"form-row","col-md-12","mt-2",2,"color","blue","font-weight","bold","margin-left","20px"],[1,"col-md-12","d-flex","justify-content-center"],["style","text-align: center;","class","col-10 alert alert-danger","role","alert",4,"ngIf"],[1,"col-md-12","d-flex","justify-content-center","mt-2"],["style","text-align: center;","class","col-10 alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],[1,"fas","fa-window-close"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-check-square"],["role","alert",1,"alert","alert-danger"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],["role","alert",1,"alert","alert-warning"],[1,"fas","fa-check",2,"margin-left","10px","margin-top","10px","color","green"],["role","alert",1,"col-10","alert","alert-danger",2,"text-align","center"],["role","alert",1,"col-10","alert","alert-success",2,"text-align","center"]],template:function(e,a){1&e&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.ic(2,d,5,0,"div",2),i.Mb(),i.Nb(3,"form",3),i.Nb(4,"div",4),i.Nb(5,"div",5),i.Nb(6,"div",6),i.jc(7," Entre com seu CPF/CNPJ e Senha. "),i.Mb(),i.Nb(8,"div",7),i.Nb(9,"div",8),i.Nb(10,"div",9),i.Nb(11,"div",10),i.Nb(12,"span",11),i.Jb(13,"i",12),i.Mb(),i.Mb(),i.Nb(14,"input",13),i.Ub("blur",(function(){return a.fechar()})),i.Mb(),i.Mb(),i.Mb(),i.Nb(15,"div",8),i.Nb(16,"div",9),i.Nb(17,"div",10),i.Nb(18,"span",11),i.Jb(19,"i",14),i.Mb(),i.Mb(),i.Nb(20,"input",15),i.Ub("focus",(function(){return a.fechar()})),i.Mb(),i.Mb(),i.Mb(),i.Nb(21,"div",16),i.Nb(22,"button",17),i.Ub("click",(function(){return a.logar()})),i.jc(23," Entrar\xa0"),i.Jb(24,"i",18),i.Mb(),i.Mb(),i.Nb(25,"div",8),i.Nb(26,"button",19),i.jc(27," Gerenciar a Senha\xa0"),i.Jb(28,"i",14),i.Mb(),i.Mb(),i.Nb(29,"div",8),i.Nb(30,"button",20),i.Jb(31,"i",21),i.jc(32,"\xa0Voltar "),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Nb(33,"div",22),i.Nb(34,"div",23),i.Nb(35,"div",24),i.Nb(36,"div",25),i.Nb(37,"h5",26),i.jc(38," Gerenciador de Senhas "),i.Mb(),i.Mb(),i.Nb(39,"div",27),i.jc(40," Para alterar a senha. "),i.Mb(),i.Nb(41,"div",4),i.ic(42,f,5,0,"div",28),i.Mb(),i.Nb(43,"form",3),i.Nb(44,"div",29),i.Nb(45,"div",30),i.Nb(46,"div",9),i.Jb(47,"input",31),i.Mb(),i.Mb(),i.Nb(48,"div",30),i.Nb(49,"div",9),i.Jb(50,"input",32),i.Mb(),i.Mb(),i.Nb(51,"div",30),i.Nb(52,"div",9),i.Nb(53,"input",33),i.Ub("input",(function(){return a.validarNovaSenha()}))("blur",(function(){return a.validarDiferenca()}))("focus",(function(){return a.validarDiferenca()})),i.Mb(),i.ic(54,h,1,0,"i",34),i.Mb(),i.Mb(),i.Nb(55,"div",35),i.jc(56," Senha deve conter 6 d\xedgitos. "),i.Mb(),i.Nb(57,"div",30),i.Nb(58,"div",9),i.Nb(59,"input",36),i.Ub("input",(function(){return a.validarConfereNovaSenha()}))("blur",(function(){return a.validarDiferenca()}))("focus",(function(){return a.validarDiferenca()})),i.Mb(),i.ic(60,u,1,0,"i",34),i.Mb(),i.Mb(),i.Mb(),i.Nb(61,"div",37),i.jc(62," Caso esqueceu sua senha, entre em contato com a unidade mais pr\xf3xima. "),i.Mb(),i.Mb(),i.Nb(63,"div",38),i.ic(64,m,3,0,"div",39),i.Mb(),i.Nb(65,"div",40),i.ic(66,v,3,0,"div",41),i.Mb(),i.Nb(67,"div",42),i.Nb(68,"button",43),i.Jb(69,"i",44),i.jc(70,"\xa0Fechar "),i.Mb(),i.Nb(71,"button",45),i.Ub("click",(function(){return a.alterarSenha()})),i.Jb(72,"i",46),i.jc(73,"\xa0Confirmar "),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Jb(74,"div"),i.Mb()),2&e&&(i.xb(2),i.ac("ngIf",a.msgError),i.xb(1),i.ac("formGroup",a.loginForm),i.xb(39),i.ac("ngIf",a.tamanhoDaSenha),i.xb(1),i.ac("formGroup",a.loginAlteraForm),i.xb(11),i.ac("ngIf",a.confereNovaSenha),i.xb(6),i.ac("ngIf",a.confereConfirmaNovaSenha),i.xb(4),i.ac("ngIf",a.msgErrorNovaSenha),i.xb(2),i.ac("ngIf",a.mostrarMens))},directives:[r.j,o.m,o.g,o.e,o.b,o.f,o.d,b.c],styles:[""]}),e})()}];let g=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(a){return new(a||e)},imports:[[b.e.forChild(p)],b.e]}),e})(),N=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(a){return new(a||e)},imports:[[r.b,g,t.b,o.i]]}),e})()}}]);