(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{"3vod":function(t,n,c){"use strict";c.r(n),c.d(n,"AcessoModule",(function(){return I}));var e=c("ofXK"),o=c("tk/3"),i=c("3Pt+"),a=c("fXoL"),s=c("IzEk"),r=c("AytR");let b=(()=>{class t{constructor(t){this.http=t,this.API=r.a.API+"/atendeFacil/api"}listRole(){return this.http.get(this.API+"/role").pipe(Object(s.a)(1))}listAcesso(){return this.http.get(this.API+"/acesso").pipe(Object(s.a)(1))}listAcessoPaginado(t,n){const c=(new o.c).set("page",t).set("size",n);return this.http.get(`${this.API}/acesso/acessoPage?${c.toString()}`).pipe(Object(s.a)(1))}loadById(t){return this.http.get(`${this.API}/acesso/${t}`).pipe(Object(s.a)(1))}create(t){return this.http.post(this.API+"/acesso",t).pipe(Object(s.a)(1))}update(t){return this.http.put(`${this.API}/acesso/${t.id}`,t).pipe(Object(s.a)(1))}save(t){return t.id?this.update(t):this.create(t)}}return t.\u0275fac=function(n){return new(n||t)(a.Rb(o.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var l=c("tyNb"),d=c("KmtZ");function k(t,n){if(1&t){const t=a.Ob();a.Nb(0,"tr"),a.kc(1,"\n            "),a.Nb(2,"td"),a.kc(3),a.Mb(),a.kc(4,"\n            "),a.Nb(5,"td"),a.kc(6),a.Mb(),a.kc(7,"\n            "),a.Nb(8,"td"),a.kc(9),a.Mb(),a.kc(10,"\n            "),a.Nb(11,"td"),a.kc(12),a.Mb(),a.kc(13,"\n            "),a.Nb(14,"td"),a.kc(15,"\n              "),a.Nb(16,"button",27),a.Ub("click",(function(){a.dc(t);const c=n.$implicit;return a.Wb().onEdit(c.id)})),a.Jb(17,"i",28),a.Mb(),a.kc(18,"\n              "),a.Nb(19,"button",29),a.Ub("click",(function(){a.dc(t);const c=n.$implicit;return a.Wb().pegarDados(c.id,c.servidor.nome)})),a.Jb(20,"i",30),a.Mb(),a.kc(21,"\n            "),a.Mb(),a.kc(22,"\n          "),a.Mb()}if(2&t){const t=n.$implicit;a.xb(3),a.mc("\n                ",t.id,"\n            "),a.xb(3),a.mc("\n                ",t.servidor.nome,"\n            "),a.xb(3),a.mc("\n                ",t.unidade.descricao,"\n            "),a.xb(3),a.mc("\n                ",t.role.descricao,"\n            ")}}let u=(()=>{class t{constructor(t,n,c,e,o){this.acessoService=t,this.router=n,this.route=c,this.globalService=e,this.fb=o,this.totalElements=0,this.totalPages=0,this.pagina=0,this.tamanho=5}ngOnInit(){this.listarAcessoPaginado(this.pagina,this.tamanho),this.paginaForm=this.fb.group({quantPag:[5]})}listarAcesso(){this.acessoService.listAcesso().subscribe(t=>this.acessos=t)}listarAcessoPaginado(t,n){this.acessoService.listAcessoPaginado(t,n).subscribe(t=>{this.acessos=t.content,this.totalElements=t.totalElements,this.totalPages=t.totalPages})}onEdit(t){this.router.navigate(["editar",t],{relativeTo:this.route})}pegarDados(t,n){this._id=t,this._descricao=n}paginaMenor(){return this.pagina=this.pagina<=0?0:this.pagina-1,this.listarAcessoPaginado(this.pagina,this.paginaForm.get("quantPag").value)}paginaMaior(){return this.pagina=this.pagina+1,this.listarAcessoPaginado(this.pagina,this.paginaForm.get("quantPag").value)}atualizaPagina(){return this.pagina=0,this.listarAcessoPaginado(this.pagina,this.paginaForm.get("quantPag").value)}}return t.\u0275fac=function(n){return new(n||t)(a.Ib(b),a.Ib(l.b),a.Ib(l.a),a.Ib(d.a),a.Ib(i.b))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-acesso-list"]],decls:106,vars:5,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","new",1,"btn","btn-success","float-right"],[1,"fas","fa-user-plus"],["id","tbsd",1,"table-responsive"],[1,"table","table-hover"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"],["novalidate","",1,"needs-validation",2,"margin-top","15px",3,"formGroup"],[1,"row","col-12","d-flex","justify-content-center","align-items-center",2,"font-size","10pt"],["type","button","data-toggle","tooltip","data-placement","top","title","Menor",1,"btn","btn-info",3,"click"],[1,"fas","fa-minus"],[1,"form-group","col-md-1",2,"margin-top","15px","text-align","center"],["type","button","data-toggle","tooltip","data-placement","top","title","Maior",1,"btn","btn-info",3,"click"],[1,"fas","fa-plus"],["id","pegaTamanho","name","quantPag","formControlName","quantPag",1,"form-control",3,"change"],["value","5"],["value","10"],["value","25"],["value","50"],[1,"float-right"],[1,"btn","btn-outline-info","btn-sm",3,"click"],[1,"far","fa-edit"],["data-toggle","modal","data-target","#ModalExclusao",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,n){1&t&&(a.Nb(0,"div",0),a.kc(1,"\n    "),a.Nb(2,"nav"),a.kc(3,"\n      "),a.Nb(4,"ol",1),a.kc(5,"\n        "),a.Nb(6,"li",2),a.Nb(7,"a",3),a.kc(8,"In\xedcio"),a.Mb(),a.Mb(),a.kc(9,"\n        "),a.Nb(10,"li",4),a.kc(11,"Listagem"),a.Mb(),a.kc(12,"\n      "),a.Mb(),a.kc(13,"\n    "),a.Mb(),a.kc(14,"\n    "),a.Nb(15,"div",5),a.kc(16,"\n      "),a.Nb(17,"div",6),a.kc(18,"\n        "),a.Nb(19,"h1",7),a.kc(20,"\n          Listagem de Acessos\n        "),a.Mb(),a.kc(21,"\n      "),a.Mb(),a.kc(22,"\n      "),a.Nb(23,"div",6),a.kc(24,"\n        "),a.Nb(25,"button",8),a.kc(26,"\n          "),a.Jb(27,"i",9),a.kc(28," Cadastrar Acesso\n        "),a.Mb(),a.kc(29,"\n      "),a.Mb(),a.kc(30,"\n    "),a.Mb(),a.kc(31,"\n     "),a.Nb(32,"div",10),a.kc(33,"\n      "),a.Nb(34,"table",11),a.kc(35,"\n        "),a.Nb(36,"thead"),a.kc(37,"\n          "),a.Nb(38,"tr",12),a.kc(39,"\n            "),a.Nb(40,"th"),a.kc(41,"ID"),a.Mb(),a.kc(42,"\n            "),a.Nb(43,"th"),a.kc(44,"Nome"),a.Mb(),a.kc(45,"\n            "),a.Nb(46,"th"),a.kc(47,"Unidade"),a.Mb(),a.kc(48,"\n            "),a.Nb(49,"th"),a.kc(50,"Fun\xe7\xe3o"),a.Mb(),a.kc(51,"\n            "),a.Nb(52,"th"),a.kc(53,"A\xe7\xf5es"),a.Mb(),a.kc(54,"\n          "),a.Mb(),a.kc(55,"\n        "),a.Mb(),a.kc(56,"\n        "),a.Nb(57,"tbody"),a.kc(58,"\n          "),a.jc(59,k,23,4,"tr",13),a.kc(60,"\n        "),a.Mb(),a.kc(61,"\n      "),a.Mb(),a.kc(62,"\n     "),a.Mb(),a.kc(63,"\n  "),a.Mb(),a.kc(64,"\n  "),a.Nb(65,"form",14),a.kc(66,"\n    "),a.Nb(67,"div",15),a.kc(68,"\n        "),a.Nb(69,"button",16),a.Ub("click",(function(){return n.paginaMenor()})),a.kc(70,"\n            "),a.Jb(71,"i",17),a.kc(72," Anterior\n          "),a.Mb(),a.kc(73,"\n          "),a.Nb(74,"div",18),a.Nb(75,"span"),a.kc(76),a.Mb(),a.Mb(),a.kc(77,"\n          "),a.Nb(78,"button",19),a.Ub("click",(function(){return n.paginaMaior()})),a.kc(79,"\n            "),a.Jb(80,"i",20),a.kc(81," Pr\xf3ximo\n          "),a.Mb(),a.kc(82,"\n          "),a.Nb(83,"div",18),a.kc(84,"\n            "),a.Nb(85,"select",21),a.Ub("change",(function(){return n.atualizaPagina()})),a.kc(86,"\n                "),a.Nb(87,"option",22),a.kc(88,"5"),a.Mb(),a.kc(89,"\n                "),a.Nb(90,"option",23),a.kc(91,"10"),a.Mb(),a.kc(92,"\n                "),a.Nb(93,"option",24),a.kc(94,"25"),a.Mb(),a.kc(95,"\n                "),a.Nb(96,"option",25),a.kc(97,"50"),a.Mb(),a.kc(98,"\n            "),a.Mb(),a.kc(99,"\n          "),a.Mb(),a.kc(100,"\n      "),a.Nb(101,"span",26),a.kc(102),a.Mb(),a.kc(103,"\n  "),a.Mb(),a.kc(104,"\n"),a.Mb(),a.kc(105,"\n\n\n\n")),2&t&&(a.xb(59),a.ac("ngForOf",n.acessos),a.xb(6),a.ac("formGroup",n.paginaForm),a.xb(11),a.nc("P\xe1g. ",n.pagina+1,"  de ",n.totalPages,""),a.xb(26),a.mc("Total de registro: ",n.totalElements,""))},directives:[l.d,l.c,e.i,i.o,i.g,i.d,i.k,i.f,i.c,i.h,i.n],styles:[""]}),t})();var p=c("rwds"),m=c("sXzJ");function h(t,n){1&t&&(a.Nb(0,"div",39),a.kc(1,"\n      "),a.Nb(2,"a",40),a.kc(3,"\n        "),a.Nb(4,"span",41),a.kc(5,"\xd7"),a.Mb(),a.kc(6,"\n      "),a.Mb(),a.kc(7,"\n         Opera\xe7\xe3o realizada com sucesso!!!\n    "),a.Mb())}function f(t,n){if(1&t&&(a.Nb(0,"option",42),a.kc(1),a.Mb()),2&t){const t=n.$implicit;a.ac("value",t.matricula),a.xb(1),a.lc(t.nome)}}function g(t,n){if(1&t&&(a.Nb(0,"option",42),a.kc(1),a.Mb()),2&t){const t=n.$implicit;a.ac("value",t.id),a.xb(1),a.lc(t.descricao)}}function N(t,n){if(1&t&&(a.Nb(0,"option",42),a.kc(1),a.Mb()),2&t){const t=n.$implicit;a.ac("value",t.id),a.xb(1),a.lc(t.descricao)}}let M=(()=>{class t{constructor(t,n,c,e,o,i){this.fb=t,this.unidadeService=n,this.acessoService=c,this.servidorService=e,this.route=o,this.globalService=i,this.mostrarMens=!1}ngOnInit(){this.comboBox();const t=this.route.snapshot.params;null!=t.id&&this.acessoService.loadById(t.id).subscribe(t=>{this.updateAcessoForm(t)}),this.acessoForm=this.fb.group({id:[null,[]],servidor:this.fb.group({matricula:["",[]]}),unidade:this.fb.group({id:["",[]]}),role:this.fb.group({id:["",[]]}),senha:["",[]]})}updateAcessoForm(t){this.acessoForm.patchValue(t)}comboBox(){this.unidadeService.listUnidade().subscribe(t=>this.unidades=t),this.acessoService.listRole().subscribe(t=>this.roles=t),this.servidorService.listServidor().subscribe(t=>this.servidores=t)}onUpdatePass(){this.acessoForm.get("senha").setValue("semad2021"),this.onSubmit()}onSubmit(){this.acessoForm.valid&&this.acessoService.save(this.acessoForm.value).subscribe(t=>{this.globalService.saveShow("Realizado com Sucesso","Acesso")}),this.acessoForm.reset()}}return t.\u0275fac=function(n){return new(n||t)(a.Ib(i.b),a.Ib(p.a),a.Ib(b),a.Ib(m.a),a.Ib(l.a),a.Ib(d.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-acesso-form"]],decls:128,vars:5,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],["routerLink","/acesso"],[1,"breadcrumb-item","active"],["class","alert alert-success","role","alert",4,"ngIf"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/acesso",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"form-group","col-md-1"],["for","mat"],["type","text","id","id","formControlName","id","readonly","",1,"form-control"],["formGroupName","servidor",1,"form-group","col-md-5"],["for","servidor"],["id","servidor","formControlName","matricula",1,"form-control"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],["formGroupName","unidade",1,"form-group","col-md-4"],["for","uni"],["id","uni","formControlName","id",1,"form-control"],["formGroupName","role",1,"form-group","col-md-2"],["for","role"],["id","role","formControlName","id",1,"form-control"],[1,"form-group","col-md-2"],["for","senha"],["type","password","id","senha","formControlName","senha",1,"form-control"],[1,"float-right","mt-2"],["type","submit",1,"btn","btn-primary",3,"click"],[1,"fas","fa-key"],["type","submit",1,"btn","btn-success",3,"click"],[1,"fas","fa-save"],["role","alert",1,"alert","alert-success"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[3,"value"]],template:function(t,n){1&t&&(a.Nb(0,"div",0),a.kc(1,"\n    "),a.Nb(2,"nav"),a.kc(3,"\n      "),a.Nb(4,"ol",1),a.kc(5,"\n        "),a.Nb(6,"li",2),a.Nb(7,"a",3),a.kc(8,"In\xedcio"),a.Mb(),a.Mb(),a.kc(9,"\n        "),a.Nb(10,"li",2),a.Nb(11,"a",4),a.kc(12,"Listagem"),a.Mb(),a.Mb(),a.kc(13,"\n        "),a.Nb(14,"li",5),a.kc(15,"Acessos"),a.Mb(),a.kc(16,"\n      "),a.Mb(),a.kc(17,"\n    "),a.Mb(),a.kc(18,"\n    "),a.jc(19,h,8,0,"div",6),a.kc(20,"\n    "),a.Nb(21,"div",7),a.kc(22,"\n      "),a.Nb(23,"div",8),a.kc(24,"\n        "),a.Nb(25,"h1",9),a.kc(26,"\n          Cadastro de Acessos\n        "),a.Mb(),a.kc(27,"\n      "),a.Mb(),a.kc(28,"\n      "),a.Nb(29,"div",8),a.kc(30,"\n        "),a.Nb(31,"button",10),a.kc(32,"\n          "),a.Jb(33,"i",11),a.kc(34,"\xa0Voltar\n        "),a.Mb(),a.kc(35,"\n      "),a.Mb(),a.kc(36,"\n    "),a.Mb(),a.kc(37,"\n    "),a.Nb(38,"form",12),a.kc(39,"\n      "),a.Nb(40,"div",13),a.kc(41,"\n        "),a.Nb(42,"div",14),a.kc(43,"\n          Formul\xe1rio para Cadastro de Acessos\n        "),a.Mb(),a.kc(44,"\n        "),a.Nb(45,"div",15),a.kc(46,"\n          "),a.Nb(47,"div",16),a.kc(48,"\n            "),a.Nb(49,"div",17),a.kc(50,"\n              "),a.Nb(51,"label",18),a.kc(52,"ID:"),a.Mb(),a.kc(53,"\n              "),a.Jb(54,"input",19),a.kc(55,"\n            "),a.Mb(),a.kc(56,"\n            "),a.Nb(57,"div",20),a.kc(58,"\n              "),a.Nb(59,"label",21),a.kc(60,"Servidor:"),a.Mb(),a.kc(61,"\n                "),a.Nb(62,"select",22),a.kc(63,"\n                    "),a.Nb(64,"option",23),a.kc(65,"Escolha o servidor"),a.Mb(),a.kc(66,"\n                    "),a.jc(67,f,2,2,"option",24),a.kc(68,"\n                "),a.Mb(),a.kc(69,"\n            "),a.Mb(),a.kc(70,"\n            "),a.Nb(71,"div",25),a.kc(72,"\n              "),a.Nb(73,"label",26),a.kc(74,"Unidade:"),a.Mb(),a.kc(75,"\n              "),a.Nb(76,"select",27),a.kc(77,"\n                "),a.Nb(78,"option",23),a.kc(79,"Escolha a unidade"),a.Mb(),a.kc(80,"\n                "),a.jc(81,g,2,2,"option",24),a.kc(82,"\n            "),a.Mb(),a.kc(83,"\n            "),a.Mb(),a.kc(84,"\n            "),a.Nb(85,"div",28),a.kc(86,"\n              "),a.Nb(87,"label",29),a.kc(88,"Fun\xe7\xe3o:"),a.Mb(),a.kc(89,"\n              "),a.Nb(90,"select",30),a.kc(91,"\n                  "),a.Nb(92,"option",23),a.kc(93,"Escolha a fun\xe7\xe3o"),a.Mb(),a.kc(94,"\n                  "),a.jc(95,N,2,2,"option",24),a.kc(96,"\n              "),a.Mb(),a.kc(97,"\n            "),a.Mb(),a.kc(98,"\n          "),a.Mb(),a.kc(99,"\n          "),a.Nb(100,"div",16),a.kc(101,"\n            "),a.Nb(102,"div",31),a.kc(103,"\n              "),a.Nb(104,"label",32),a.kc(105,"Senha:"),a.Mb(),a.kc(106,"\n              "),a.Jb(107,"input",33),a.kc(108,"\n            "),a.Mb(),a.kc(109,"\n          "),a.Mb(),a.kc(110,"\n        "),a.Mb(),a.kc(111,"\n      "),a.Mb(),a.kc(112,"\n    "),a.Mb(),a.kc(113,"\n    "),a.Nb(114,"div",34),a.kc(115,"\n      "),a.Nb(116,"button",35),a.Ub("click",(function(){return n.onUpdatePass()})),a.kc(117,"\n        "),a.Jb(118,"i",36),a.kc(119," \xa0Re-definir Senha\n      "),a.Mb(),a.kc(120,"\n      "),a.Nb(121,"button",37),a.Ub("click",(function(){return n.onSubmit()})),a.kc(122,"\n        "),a.Jb(123,"i",38),a.kc(124,"\xa0Salvar\n      "),a.Mb(),a.kc(125,"\n    "),a.Mb(),a.kc(126,"\n  "),a.Mb(),a.kc(127,"\n\n\n\n")),2&t&&(a.xb(19),a.ac("ngIf",n.mostrarMens),a.xb(19),a.ac("formGroup",n.acessoForm),a.xb(29),a.ac("ngForOf",n.servidores),a.xb(14),a.ac("ngForOf",n.unidades),a.xb(14),a.ac("ngForOf",n.roles))},directives:[l.d,e.j,l.c,i.o,i.g,i.d,i.a,i.f,i.c,i.e,i.k,i.h,i.n,e.i],styles:[""]}),t})();const v=[{path:"",component:u},{path:"new",component:M},{path:"editar/:id",component:M}];let P=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(n){return new(n||t)},imports:[[l.e.forChild(v)],l.e]}),t})(),I=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(n){return new(n||t)},imports:[[e.b,P,i.j,o.b]]}),t})()}}]);