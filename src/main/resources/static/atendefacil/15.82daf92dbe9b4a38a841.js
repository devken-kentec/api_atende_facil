(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{IzWv:function(e,a,o){"use strict";o.r(a),o.d(a,"LoginModule",(function(){return g}));var r=o("ofXK"),t=o("3Pt+"),n=o("tk/3"),i=o("fXoL"),l=o("KmtZ"),c=o("tyNb");function s(e,a){1&e&&(i.Nb(0,"div",48),i.kc(1," Usu\xe1rio ou Senha n\xe3o encontrado! "),i.Nb(2,"a",49),i.Nb(3,"span",50),i.kc(4,"\xd7"),i.Mb(),i.Mb(),i.Mb())}function b(e,a){1&e&&i.Jb(0,"i",51)}function d(e,a){1&e&&i.Jb(0,"i",51)}function u(e,a){1&e&&(i.Nb(0,"div",52),i.Nb(1,"span"),i.kc(2,"Usu\xe1rio ou senha n\xe3o encontrado!"),i.Mb(),i.Mb())}function f(e,a){1&e&&(i.Nb(0,"div",53),i.Nb(1,"span"),i.kc(2," Senha alterado com sucesso!! "),i.Mb(),i.Mb())}const m=[{path:"",component:(()=>{class e{constructor(e,a,o){this.fb=e,this.globalService=a,this.router=o,this.mat="",this.nome="",this.role="",this.unidade="",this.msgError=!1,this.msgErrorNovaSenha=!1,this.mostrarMens=!1,this.confereNovaSenha=!1,this.confereConfirmaNovaSenha=!1}ngOnInit(){this.loginForm=this.fb.group({matricula:["",[]],senha:["",[]]}),this.loginAlteraForm=this.fb.group({matricula:["",[]],senha:["",[]],novaSenha:["",[]],confirmarNovaSenha:["",[]]})}fechar(){this.msgError=!1}logar(){let e=this.loginForm.get("matricula").value,a=this.loginForm.get("senha").value;this.globalService.logar(e,a).subscribe(o=>{e===o.servidor.matricula&&a===o.senha&&(this.globalService.setLoggedIn(!0),this.router.navigate(["/"]),this.globalService.pegarDados(o.servidor.nome,o.role.descricao,o.servidor.matricula,o.unidade.descricao),this.globalService.setMatricula(o.servidor.matricula),this.globalService.setNome(o.servidor.nome),this.globalService.setRole(o.role.descricao),this.globalService.setUnidadeId(o.unidade.id),this.globalService.setUnidade(o.unidade.descricao),this.globalService.getMatricula(),this.globalService.getNome(),this.globalService.getRole(),this.globalService.getUnidadeId(),this.globalService.getUnidade())},e=>{this.msgError=!0})}validarNovaSenha(){let e=this.loginAlteraForm.get("novaSenha").value;this.confereNovaSenha=""!=e}validarConfereNovaSenha(){let e=this.loginAlteraForm.get("novaSenha").value,a=this.loginAlteraForm.get("confirmarNovaSenha").value;e===a&&(this.confereConfirmaNovaSenha=!0),""===a&&(this.confereConfirmaNovaSenha=!1)}validarDiferenca(){let e=this.loginAlteraForm.get("novaSenha").value,a=this.loginAlteraForm.get("confirmarNovaSenha").value;""!=e&&e==a||(this.confereConfirmaNovaSenha=!1)}alterarSenha(){if(this.loginAlteraForm.valid){let e=this.loginAlteraForm.get("matricula").value,a=this.loginAlteraForm.get("senha").value,o=this.loginAlteraForm.get("novaSenha").value,r=this.loginAlteraForm.get("confirmarNovaSenha").value;this.globalService.alterarSenha(e,a,o,r).subscribe(e=>{this.globalService.saveShow("Alterada com Sucesso!","Senha"),this.confereNovaSenha=!1,this.confereConfirmaNovaSenha=!1},e=>{this.msgErrorNovaSenha=!0})}this.loginAlteraForm.reset()}}return e.\u0275fac=function(a){return new(a||e)(i.Ib(t.b),i.Ib(l.a),i.Ib(c.b))},e.\u0275cmp=i.Cb({type:e,selectors:[["app-login-form"]],decls:72,vars:7,consts:[[1,"col-md-12",2,"margin-left","8%"],[1,"d-flex","justify-content-center","mt-5"],["src","assets/atende_facil.jpg","id","logo",2,"height","100px","width","150px","border-radius","100%"],[1,"h4","d-flex","justify-content-center","mt-4"],[1,"d-flex","justify-content-center",2,"font-weight","bold"],[1,"d-flex","justify-content-center","mt-2"],["class","alert alert-danger","role","alert",4,"ngIf"],[1,"d-flex","justify-content-center"],[3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-group","col-md-12"],[1,"input-group","mb-3"],[1,"input-group-prepend"],["id","basic-addon1",1,"input-group-text"],[1,"fas","fa-user"],["id","id","type","text","formControlName","matricula","placeholder","MATR\xcdCULA",1,"form-control",3,"blur"],[1,"fas","fa-key"],["id","senha","type","password","formControlName","senha","placeholder","SENHA",1,"form-control",3,"focus"],[1,"form-row","col-md-12",2,"margin-top","5px"],["type","submit",1,"btn","btn-success","col-md-12",3,"click"],[1,"fas","fa-sign-in-alt"],[1,"form-row","col-md-12","d-flex","justify-content-center","mt-2"],["type","button","data-toggle","modal","data-target","#ModalSenha",1,"btn","btn-primary","col-md-12"],["id","ModalSenha","tabindex","-1","role","dialog","aria-labelledby","TituloModalCentralizado","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","TituloModalCentralizado",1,"modal-title"],[1,"modal-body",2,"font-weight","bold","margin-left","120px"],[2,"margin-left","120px"],[1,"form-group","col-md-8"],["id","idAtual","type","text","formControlName","matricula","placeholder","MATR\xcdCULA",1,"form-control"],["id","senhaAtual","type","password","formControlName","senha","placeholder","SENHA ATUAL",1,"form-control"],["id","novaSenha","type","password","formControlName","novaSenha","placeholder","NOVA SENHA",1,"form-control",3,"input","blur","focus"],["class","fas fa-check","style","margin-left: 10px; margin-top: 10px; color: green;",4,"ngIf"],["id","confereConfirmaNovasenha","type","password","formControlName","confirmarNovaSenha","placeholder","CONFIRMA SENHA",1,"form-control",3,"input","blur","focus"],[1,"form-row","col-md-12","mt-2",2,"color","blue","font-weight","bold","margin-left","20px"],[1,"col-md-12","d-flex","justify-content-center"],["style","text-align: center;","class","col-10 alert alert-danger","role","alert",4,"ngIf"],[1,"col-md-12","d-flex","justify-content-center","mt-2"],["style","text-align: center;","class","col-10 alert alert-success","role","alert",4,"ngIf"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],[1,"fas","fa-window-close"],[1,"btn","btn-success",3,"click"],[1,"fas","fa-check-square"],["role","alert",1,"alert","alert-danger"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[1,"fas","fa-check",2,"margin-left","10px","margin-top","10px","color","green"],["role","alert",1,"col-10","alert","alert-danger",2,"text-align","center"],["role","alert",1,"col-10","alert","alert-success",2,"text-align","center"]],template:function(e,a){1&e&&(i.Nb(0,"div",0),i.Nb(1,"div",1),i.Jb(2,"img",2),i.Mb(),i.Nb(3,"h1",3),i.kc(4," AtendeF\xe1cilWeb "),i.Mb(),i.Nb(5,"small",4),i.kc(6,"Sistema de Agendamento, Atendimento e Controle de chamada"),i.Mb(),i.Nb(7,"div",5),i.jc(8,s,5,0,"div",6),i.Mb(),i.Nb(9,"div",7),i.Nb(10,"form",8),i.Nb(11,"div",9),i.Nb(12,"div",10),i.kc(13," Entrar com o Matr\xedcula e Senha. "),i.Mb(),i.Nb(14,"div",11),i.Nb(15,"div",12),i.Nb(16,"div",13),i.Nb(17,"div",14),i.Nb(18,"span",15),i.Jb(19,"i",16),i.Mb(),i.Mb(),i.Nb(20,"input",17),i.Ub("blur",(function(){return a.fechar()})),i.Mb(),i.Mb(),i.Mb(),i.Nb(21,"div",12),i.Nb(22,"div",13),i.Nb(23,"div",14),i.Nb(24,"span",15),i.Jb(25,"i",18),i.Mb(),i.Mb(),i.Nb(26,"input",19),i.Ub("focus",(function(){return a.fechar()})),i.Mb(),i.Mb(),i.Mb(),i.Nb(27,"div",20),i.Nb(28,"button",21),i.Ub("click",(function(){return a.logar()})),i.kc(29," Entrar\xa0"),i.Jb(30,"i",22),i.Mb(),i.Mb(),i.Nb(31,"div",23),i.Nb(32,"button",24),i.kc(33," Gerenciar a Senha\xa0"),i.Jb(34,"i",18),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Nb(35,"div",25),i.Nb(36,"div",26),i.Nb(37,"div",27),i.Nb(38,"div",28),i.Nb(39,"h5",29),i.kc(40," Gerenciador de Senhas "),i.Mb(),i.Mb(),i.Nb(41,"div",30),i.kc(42," Para alterar a senha. "),i.Mb(),i.Nb(43,"form",8),i.Nb(44,"div",31),i.Nb(45,"div",32),i.Nb(46,"div",13),i.Jb(47,"input",33),i.Mb(),i.Mb(),i.Nb(48,"div",32),i.Nb(49,"div",13),i.Jb(50,"input",34),i.Mb(),i.Mb(),i.Nb(51,"div",32),i.Nb(52,"div",13),i.Nb(53,"input",35),i.Ub("input",(function(){return a.validarNovaSenha()}))("blur",(function(){return a.validarDiferenca()}))("focus",(function(){return a.validarDiferenca()})),i.Mb(),i.jc(54,b,1,0,"i",36),i.Mb(),i.Mb(),i.Nb(55,"div",32),i.Nb(56,"div",13),i.Nb(57,"input",37),i.Ub("input",(function(){return a.validarConfereNovaSenha()}))("blur",(function(){return a.validarDiferenca()}))("focus",(function(){return a.validarDiferenca()})),i.Mb(),i.jc(58,d,1,0,"i",36),i.Mb(),i.Mb(),i.Mb(),i.Nb(59,"div",38),i.kc(60," Caso esqueceu sua senha, entre em contato com o apoio de inform\xe1tica de sua unidade. "),i.Mb(),i.Mb(),i.Nb(61,"div",39),i.jc(62,u,3,0,"div",40),i.Mb(),i.Nb(63,"div",41),i.jc(64,f,3,0,"div",42),i.Mb(),i.Nb(65,"div",43),i.Nb(66,"button",44),i.Jb(67,"i",45),i.kc(68,"\xa0Fechar "),i.Mb(),i.Nb(69,"button",46),i.Ub("click",(function(){return a.alterarSenha()})),i.Jb(70,"i",47),i.kc(71,"\xa0Confirmar "),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb(),i.Mb()),2&e&&(i.xb(8),i.ac("ngIf",a.msgError),i.xb(2),i.ac("formGroup",a.loginForm),i.xb(33),i.ac("formGroup",a.loginAlteraForm),i.xb(11),i.ac("ngIf",a.confereNovaSenha),i.xb(4),i.ac("ngIf",a.confereConfirmaNovaSenha),i.xb(4),i.ac("ngIf",a.msgErrorNovaSenha),i.xb(2),i.ac("ngIf",a.mostrarMens))},directives:[r.j,t.o,t.g,t.d,t.a,t.f,t.c],styles:[""]}),e})()}];let h=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(a){return new(a||e)},imports:[[c.e.forChild(m)],c.e]}),e})(),g=(()=>{class e{}return e.\u0275mod=i.Gb({type:e}),e.\u0275inj=i.Fb({factory:function(a){return new(a||e)},imports:[[r.b,h,n.b,t.j]]}),e})()}}]);