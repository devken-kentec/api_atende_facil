(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"WK+y":function(t,a,e){"use strict";e.r(a),e.d(a,"AtivacaoModule",(function(){return A}));var i=e("ofXK"),b=e("tk/3"),o=e("3Pt+"),r=e("fXoL"),c=e("IzEk"),n=e("AytR");let s=(()=>{class t{constructor(t){this.http=t,this.API=n.a.API+"/atendeFacil/api"}senhaById(t){return this.http.get(`${this.API}/agendamento/senha/${t}`).pipe(Object(c.a)(1))}atualizarAgendamento(t,a,e){return this.http.get(`${this.API}/agendamento/atualizaragendamento/${t}/${a}/${e}`).pipe(Object(c.a)(1))}listarFilaAtivados(t){return this.http.get(`${this.API}/fila/ativados/${t}`).pipe(Object(c.a)(1))}updateAgendamento(t){return this.http.get(`${this.API}/agendamento/agendamentoFila/${t}`).pipe(Object(c.a)(1))}listDetalhamentoServico(t){return this.http.get(`${this.API}/detalhamentoservico/select/${t}`).pipe(Object(c.a)(1))}create(t){return this.http.post(this.API+"/fila",t).pipe(Object(c.a)(1))}}return t.\u0275fac=function(a){return new(a||t)(r.Rb(b.a))},t.\u0275prov=r.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=e("tyNb");function l(t,a){if(1&t&&(r.Nb(0,"option",26),r.kc(1),r.Mb()),2&t){const t=a.$implicit;r.ac("value",t.id),r.xb(1),r.lc(t.descricao)}}function m(t,a){if(1&t&&(r.Nb(0,"div",14),r.Nb(1,"div",16),r.Nb(2,"label",23),r.kc(3,"Detalhamento do Servi\xe7o:"),r.Mb(),r.Nb(4,"select",24),r.jc(5,l,2,2,"option",25),r.Mb(),r.Mb(),r.Mb()),2&t){const t=r.Wb();r.xb(5),r.ac("ngForOf",t.detalhamentoServicos)}}function v(t,a){if(1&t){const t=r.Ob();r.Nb(0,"div",14),r.Nb(1,"div",27),r.Nb(2,"label",28),r.kc(3,"Prioridade:"),r.Mb(),r.Nb(4,"select",29),r.Nb(5,"option",30),r.kc(6,"Normal"),r.Mb(),r.Nb(7,"option",31),r.kc(8,"Idoso"),r.Mb(),r.Nb(9,"option",32),r.kc(10,"Gestante"),r.Mb(),r.Nb(11,"option",33),r.kc(12,"Lactante"),r.Mb(),r.Nb(13,"option",34),r.kc(14,"Nessecidades especiais"),r.Mb(),r.Nb(15,"option",35),r.kc(16,"Crian\xe7a de colo"),r.Mb(),r.Nb(17,"option",36),r.kc(18,"Obeso"),r.Mb(),r.Mb(),r.Mb(),r.Nb(19,"div",14),r.Nb(20,"div",37),r.Nb(21,"button",38),r.Ub("click",(function(){return r.dc(t),r.Wb().atualizarAgendamento()})),r.kc(22,"Atualizar Agendamento"),r.Mb(),r.Mb(),r.Mb(),r.Mb()}if(2&t){const t=r.Wb();r.xb(21),r.ac("disabled",!t.ativaForm.valid)}}function h(t,a){1&t&&(r.Nb(0,"div",39),r.Nb(1,"a",40),r.Nb(2,"span",41),r.kc(3,"\xd7"),r.Mb(),r.Mb(),r.Nb(4,"span",42),r.kc(5,"PR\xd3XIMO!!!"),r.Mb(),r.Mb())}function u(t,a){if(1&t){const t=r.Ob();r.Nb(0,"button",54),r.Ub("click",(function(){return r.dc(t),r.Wb(3).ativar()})),r.Jb(1,"i",55),r.kc(2,"\xa0 Ativar Senha "),r.Mb()}}function f(t,a){if(1&t&&(r.Nb(0,"div",52),r.jc(1,u,3,0,"button",53),r.Mb()),2&t){const t=r.Wb(2);r.xb(1),r.ac("ngIf",t.btnAtivarSenha)}}function p(t,a){if(1&t&&(r.Nb(0,"div",43),r.Nb(1,"div",44),r.Nb(2,"div",45),r.Nb(3,"b"),r.Nb(4,"u"),r.kc(5,"Comprovanete de Agendamento"),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Nb(6,"div"),r.Nb(7,"div"),r.Nb(8,"div",46),r.Nb(9,"div",47),r.Nb(10,"span",48),r.kc(11),r.Mb(),r.Mb(),r.Nb(12,"div",49),r.Nb(13,"div",47),r.kc(14),r.Mb(),r.Nb(15,"div",47),r.kc(16),r.Mb(),r.Nb(17,"div",47),r.kc(18),r.Mb(),r.Nb(19,"div",47),r.kc(20),r.Nb(21,"div",47),r.kc(22),r.Mb(),r.Mb(),r.Nb(23,"div",47),r.kc(24),r.Mb(),r.Nb(25,"div",47),r.kc(26),r.Mb(),r.Nb(27,"div",47),r.kc(28),r.Mb(),r.Nb(29,"div",47),r.kc(30," DETALHAMENTO:\xa0 "),r.Nb(31,"span",50),r.kc(32),r.Mb(),r.Mb(),r.Nb(33,"div",47),r.kc(34," STATUS:\xa0"),r.Nb(35,"span",50),r.kc(36),r.Mb(),r.Mb(),r.Nb(37,"div",47),r.kc(38," PRIORIDADE:\xa0"),r.Nb(39,"span",50),r.kc(40),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Jb(41,"br"),r.Mb(),r.jc(42,f,2,1,"div",51),r.Mb(),r.Mb()),2&t){const t=r.Wb();r.xb(11),r.mc("SENHA:\xa0",t.senha,""),r.xb(3),r.mc(" IDENTIFICADOR DO AGENDAMENTO:\xa0",t.identificador," "),r.xb(2),r.mc(" NOME:\xa0",t.nome," "),r.xb(2),r.mc(" CPF/CNPJ:\xa0",t.formatarPessoas(t.cpfCnpj)," "),r.xb(2),r.mc(" UNIDADE:\xa0",t.unidade," "),r.xb(2),r.mc(" ",t.endereco," "),r.xb(2),r.mc(" DATA:\xa0 ",t.formatarDate(t.data)," "),r.xb(2),r.mc(" HOR\xc1RIO:\xa0 ",t.horario," "),r.xb(2),r.mc(" SERVI\xc7O:\xa0 ",t.servico," "),r.xb(4),r.lc(t.detalhamentoServico),r.xb(4),r.lc(t.statusAgendamento),r.xb(4),r.lc(t.prioridade),r.xb(2),r.ac("ngIf","Agendado"==t.statusAgendamento)}}let N=(()=>{class t{constructor(t,a){this.fb=t,this.ativacaoService=a,this.mostra=!1,this.proximo=!1,this.btnAtivarSenha=!1}ngOnInit(){this.ativaForm=this.fb.group({id:[null,[]],identificador:["",[]],senha:["",[]],nome:["",[]],cpfCnpj:["",[]],unidade:["",[]],endereco:["",[]],data:["",[]],horario:["",[]],servico:["",[]],detalhamentoServicoId:["",[o.m.required]],detalhamentoServico:["",[]],statusAgendamento:["",[]],prioridade:["",[o.m.required]]})}senhaById(){this.ativacaoService.senhaById(this.ativaForm.get("id").value).subscribe(t=>{this.proximo=!1,this.identificador=t.identificador,this.senha=t.senha,this.nome=t.nome,this.cpfCnpj=t.cpfCnpj,this.unidade=t.unidade,this.endereco=t.endereco,this.data=t.data,this.horario=t.horario,this.servico=t.servico,this.detalhamentoServico=t.detalhamentoServico,this.statusAgendamento=t.statusAgendamento,this.prioridade=t.prioridade,this.mostra=!0,this.carregarDados(t),this.combobox(this.servico)})}carregarDados(t){this.ativaForm.patchValue(t)}atualizarAgendamento(){let t=this.ativaForm.get("identificador").value,a=this.ativaForm.get("prioridade").value,e=this.ativaForm.get("detalhamentoServicoId").value;this.ativacaoService.atualizarAgendamento(t,a,e).subscribe(t=>{this.btnAtivarSenha=!0,this.senhaById()})}combobox(t){this.ativacaoService.listDetalhamentoServico(t).subscribe(t=>this.detalhamentoServicos=t)}formatarDate(t){let a="",e=t.substring(8,10),i=t.substring(5,7),b=t.substring(0,4);return 1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),a=e+"/"+i+"/"+b,a}formatarPessoas(t){let a;return 11==t.length&&(a=this.formatarCpf(t)),14==t.length&&(a=this.formatarCnpj(t)),a}formatarCpf(t){let a=t;return a.substring(0,3)+"."+a.substring(3,6)+"."+a.substring(6,9)+"-"+a.substring(9,11)}formatarCnpj(t){let a=t;return a.substring(0,2)+"."+a.substring(2,5)+"."+a.substring(5,8)+"/"+a.substring(8,12)+"-"+a.substring(12,14)}ativar(){this.mostra=!1,this.ativacaoService.updateAgendamento(this.ativaForm.get("id").value).subscribe(t=>{this.onSubmit()})}onSubmit(){this.ativaForm.get("id").disable(),this.ativacaoService.create(this.ativaForm.value).subscribe(t=>{this.proximo=!0,this.ativaForm.get("id").enable()})}}return t.\u0275fac=function(a){return new(a||t)(r.Ib(o.b),r.Ib(s))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-ativacao-form"]],decls:33,vars:5,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-4"],[1,"form-group","col-md-12"],["for","id",1,"h5","col-md","d-flex","justify-content-center"],["id","id","type","text","formControlName","id",1,"form-control","text-center",3,"blur"],["class","form-row col-md-12",4,"ngIf"],[1,"col-md-8"],["class","alert alert-dark mt-4 text-center","role","alert",4,"ngIf"],["class","container col-md-8","style","box-shadow: 5px 5px 10px #000;",4,"ngIf"],["for","calendario"],["id","calendario","formControlName","detalhamentoServicoId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-12"],["for","unidade"],["id","unidade","formControlName","prioridade",1,"form-control"],["value","Normal"],["value","Idoso"],["value","Gestante"],["value","Lactante"],["value","Nessecidades especiais"],["value","Crian\xe7a de colo"],["value","Obeso"],[1,"col-md-2",2,"margin-top","31px"],[1,"btn","btn-primary",3,"disabled","click"],["role","alert",1,"alert","alert-dark","mt-4","text-center"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[2,"color","green","font-weight","bold"],[1,"container","col-md-8",2,"box-shadow","5px 5px 10px #000"],[1,"row","mt-2"],[1,"h4","col-md","d-flex","justify-content-center","mt-2"],[1,"form-group","col-12",2,"font-size","10pt"],[1,"form-row","col-12","d-flex","justify-content-center"],[2,"font-size","16pt","font-weight","bold"],[2,"font-size","14pt","text-align","center"],[2,"font-weight","bold"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","button","class","btn btn-primary mb-3 ml-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-3","ml-1",3,"click"],[1,"fas","fa-tasks"]],template:function(t,a){1&t&&(r.Nb(0,"div",0),r.Nb(1,"nav"),r.Nb(2,"ol",1),r.Nb(3,"li",2),r.Nb(4,"a",3),r.kc(5,"In\xedcio"),r.Mb(),r.Mb(),r.Nb(6,"li",4),r.kc(7,"Ativa\xe7\xe3o de Senhas"),r.Mb(),r.Mb(),r.Mb(),r.Nb(8,"div",5),r.Nb(9,"div",6),r.Nb(10,"h1",7),r.kc(11," Ativa\xe7\xe3o de Senhas "),r.Mb(),r.Mb(),r.Nb(12,"div",6),r.Nb(13,"button",8),r.Jb(14,"i",9),r.kc(15,"\xa0Voltar "),r.Mb(),r.Mb(),r.Mb(),r.Nb(16,"form",10),r.Nb(17,"div",11),r.Nb(18,"div",12),r.kc(19," Formul\xe1rio para Ativa\xe7\xe3o de Senhas "),r.Mb(),r.Nb(20,"div",13),r.Nb(21,"div",14),r.Nb(22,"div",15),r.Nb(23,"div",14),r.Nb(24,"div",16),r.Nb(25,"label",17),r.kc(26,"IDENTIFICADOR DO AGENDAMENTO:"),r.Mb(),r.Nb(27,"input",18),r.Ub("blur",(function(){return a.senhaById()})),r.Mb(),r.Mb(),r.Mb(),r.jc(28,m,6,1,"div",19),r.jc(29,v,23,1,"div",19),r.Mb(),r.Nb(30,"div",20),r.jc(31,h,6,0,"div",21),r.jc(32,p,43,13,"div",22),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.xb(16),r.ac("formGroup",a.ativaForm),r.xb(12),r.ac("ngIf",a.mostra),r.xb(1),r.ac("ngIf",a.mostra),r.xb(2),r.ac("ngIf",a.proximo),r.xb(1),r.ac("ngIf",a.mostra))},directives:[d.d,d.c,o.o,o.g,o.d,o.a,o.f,o.c,i.j,o.k,i.i,o.h,o.n],styles:[""]}),t})();var M=e("KmtZ");function g(t,a){if(1&t&&(r.Nb(0,"tr"),r.Nb(1,"td"),r.kc(2),r.Jb(3,"br"),r.kc(4),r.Jb(5,"br"),r.kc(6),r.Mb(),r.Nb(7,"td"),r.kc(8),r.Jb(9,"br"),r.kc(10),r.Mb(),r.Nb(11,"td"),r.kc(12),r.Jb(13,"br"),r.kc(14),r.Mb(),r.Nb(15,"td"),r.kc(16),r.Jb(17,"br"),r.kc(18),r.Jb(19,"br"),r.kc(20),r.Mb(),r.Nb(21,"td"),r.kc(22),r.Jb(23,"br"),r.kc(24),r.Mb(),r.Nb(25,"td"),r.kc(26),r.Jb(27,"br"),r.kc(28),r.Jb(29,"br"),r.kc(30),r.Mb(),r.Mb()),2&t){const t=a.$implicit,e=r.Wb();r.xb(2),r.lc(t.id),r.xb(2),r.lc(e.globalService.formatarDate(t.ativacao)),r.xb(2),r.lc(e.globalService.formatarTime(t.ativacao)),r.xb(2),r.lc(t.identificador),r.xb(2),r.lc(t.prioridade),r.xb(2),r.lc(t.statusFila),r.xb(2),r.lc(t.statusAgendamento),r.xb(2),r.lc(t.senha),r.xb(2),r.lc(e.globalService.formatarDate(t.data)),r.xb(2),r.mc(" ",t.horario," "),r.xb(2),r.lc(t.nome),r.xb(2),r.lc(e.globalService.formatarPessoas(t.cpfCnpj)),r.xb(2),r.lc(t.servico),r.xb(2),r.lc(t.detalhamentoServico),r.xb(2),r.lc(t.unidade)}}const k=[{path:"",component:N},{path:"listarfila",component:(()=>{class t{constructor(t,a){this.ativacaoService=t,this.globalService=a}ngOnInit(){this.listarFilaAtivados()}listarFilaAtivados(){this.ativacaoService.listarFilaAtivados(this.globalService.getUnidade()).subscribe(t=>this.filas=t)}}return t.\u0275fac=function(a){return new(a||t)(r.Ib(s),r.Ib(M.a))},t.\u0275cmp=r.Cb({type:t,selectors:[["app-ativacao-list"]],decls:40,vars:1,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["id","tbsd",1,"table-responsive"],[1,"table","table-hover"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"]],template:function(t,a){1&t&&(r.Nb(0,"div",0),r.Nb(1,"nav"),r.Nb(2,"ol",1),r.Nb(3,"li",2),r.Nb(4,"a",3),r.kc(5,"In\xedcio"),r.Mb(),r.Mb(),r.Nb(6,"li",4),r.kc(7,"Listagem"),r.Mb(),r.Mb(),r.Mb(),r.Nb(8,"div",5),r.Nb(9,"div",6),r.Nb(10,"h1",7),r.kc(11," Listagem de Senhas Ativas "),r.Mb(),r.Mb(),r.Mb(),r.Nb(12,"div",8),r.Nb(13,"table",9),r.Nb(14,"thead"),r.Nb(15,"tr",10),r.Nb(16,"th"),r.kc(17,"ID/Ativa\xe7\xe3o"),r.Mb(),r.Nb(18,"th"),r.kc(19,"Identificador/"),r.Jb(20,"br"),r.kc(21,"Prioridade"),r.Mb(),r.Nb(22,"th"),r.kc(23,"Status da Fila/"),r.Jb(24,"br"),r.kc(25,"Status do Agendamento"),r.Mb(),r.Nb(26,"th"),r.kc(27,"Senha/Data/Hor\xe1rio"),r.Mb(),r.Nb(28,"th"),r.kc(29,"Nome/"),r.Jb(30,"br"),r.kc(31,"CPF/CNPJ"),r.Mb(),r.Nb(32,"th"),r.kc(33,"Servi\xe7o/"),r.Jb(34,"br"),r.kc(35,"Detalhamento de Servi\xe7o/"),r.Jb(36,"br"),r.kc(37,"Unidade"),r.Mb(),r.Mb(),r.Mb(),r.Nb(38,"tbody"),r.jc(39,g,31,15,"tr",11),r.Mb(),r.Mb(),r.Mb(),r.Mb()),2&t&&(r.xb(39),r.ac("ngForOf",a.filas))},directives:[d.d,i.i],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(a){return new(a||t)},imports:[[d.e.forChild(k)],d.e]}),t})(),A=(()=>{class t{}return t.\u0275mod=r.Gb({type:t}),t.\u0275inj=r.Fb({factory:function(a){return new(a||t)},imports:[[i.b,x,o.j,b.b]]}),t})()}}]);