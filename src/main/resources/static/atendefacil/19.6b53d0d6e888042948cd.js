(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{sxK1:function(t,e,i){"use strict";i.r(e),i.d(e,"PerfilAtendimentoModule",(function(){return x}));var o=i("ofXK"),r=i("tk/3"),b=i("3Pt+"),a=i("fXoL"),c=i("sXzJ"),n=i("FpYS"),l=i("IzEk"),s=i("AytR");let d=(()=>{class t{constructor(t){this.http=t,this.API=s.a.API+"/atendeFacil/api/perfilatendimento"}loadById(t){return this.http.get(`${this.API}/${t}`).pipe(Object(l.a)(1))}createPerfil(t,e){const i=(new r.c).set("matricula",t).set("servico",e);return this.http.get(this.API+"/gerarPerfil?"+i).pipe(Object(l.a)(1))}remove(t){return this.http.delete(`${this.API}/${t}`).pipe(Object(l.a)(1))}}return t.\u0275fac=function(e){return new(e||t)(a.Rb(r.a))},t.\u0275prov=a.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var m=i("KmtZ"),f=i("tyNb");function u(t,e){if(1&t&&(a.Nb(0,"option",41),a.kc(1),a.Mb()),2&t){const t=e.$implicit;a.ac("value",t.matricula),a.xb(1),a.lc(t.nome)}}function v(t,e){if(1&t&&(a.Nb(0,"div",42),a.Nb(1,"div",43),a.kc(2),a.Mb(),a.Mb()),2&t){const t=a.Wb();a.xb(2),a.mc(" ",t.resError," ")}}function h(t,e){if(1&t&&(a.Nb(0,"option",41),a.kc(1),a.Mb()),2&t){const t=e.$implicit;a.ac("value",t.id),a.xb(1),a.lc(t.descricao)}}function p(t,e){1&t&&(a.Nb(0,"div",44),a.kc(1,"SELECIONE UM SERVIDOR PARA GERAR A LISTA."),a.Mb())}function M(t,e){if(1&t){const t=a.Ob();a.Nb(0,"tr"),a.Nb(1,"td"),a.kc(2),a.Mb(),a.Nb(3,"td"),a.kc(4),a.Mb(),a.Nb(5,"td"),a.kc(6),a.Mb(),a.Nb(7,"td"),a.kc(8),a.Mb(),a.Nb(9,"td"),a.kc(10),a.Mb(),a.Nb(11,"td"),a.kc(12),a.Mb(),a.Nb(13,"td"),a.Nb(14,"button",49),a.Ub("click",(function(){a.dc(t);const i=e.$implicit;return a.Wb(2).pegarDados(i.id,i.detalhamento)})),a.Jb(15,"i",50),a.Mb(),a.Mb(),a.Mb()}if(2&t){const t=e.$implicit;a.xb(2),a.mc(" ",t.id," "),a.xb(2),a.mc(" ",t.servidor," "),a.xb(2),a.mc(" ",t.unidade," "),a.xb(2),a.mc(" ",t.role," "),a.xb(2),a.mc(" ",t.detalhamento," "),a.xb(2),a.mc(" ",t.servico," ")}}function N(t,e){if(1&t&&(a.Nb(0,"div",15),a.Nb(1,"span",21),a.kc(2,"Acessos para: "),a.Nb(3,"span",22),a.kc(4),a.Mb(),a.Mb(),a.Nb(5,"div",45),a.Nb(6,"table",46),a.Nb(7,"thead"),a.Nb(8,"tr",47),a.Nb(9,"th"),a.kc(10,"ID"),a.Mb(),a.Nb(11,"th"),a.kc(12,"Servidor"),a.Mb(),a.Nb(13,"th"),a.kc(14,"Unidade"),a.Mb(),a.Nb(15,"th"),a.kc(16,"Tipo"),a.Mb(),a.Nb(17,"th"),a.kc(18,"Detalhamento"),a.Mb(),a.Nb(19,"th"),a.kc(20,"Servi\xe7o"),a.Mb(),a.Nb(21,"th"),a.kc(22,"A\xe7\xf5es"),a.Mb(),a.Mb(),a.Mb(),a.Nb(23,"tbody"),a.jc(24,M,16,6,"tr",48),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t){const t=a.Wb();a.xb(4),a.lc(t.perfilForm.get("matricula").value),a.xb(20),a.ac("ngForOf",t.perfilAtendimentos)}}const g=[{path:"",component:(()=>{class t{constructor(t,e,i,o,r){this.fb=t,this.servidorService=e,this.detalhamentoServicoService=i,this.perfilAtendimentoService=o,this.globalService=r,this.mostrarMens=!1,this.resOk=!1,this.resError=null}ngOnInit(){this.combobox(),this.perfilForm=this.fb.group({id:[null,[]],matricula:["",[]],servico:["",[]]})}combobox(){this.servidorService.listServidor().subscribe(t=>this.servidores=t),this.detalhamentoServicoService.listDetalhamentoServico().subscribe(t=>this.delServicos=t)}listarPerfil(t){this.perfilAtendimentoService.loadById(t).subscribe(t=>{this.perfilAtendimentos=t,this.resError=null})}onSubmit(){let t=this.perfilForm.get("matricula").value;this.perfilForm.get("servico").value.forEach(e=>{this.perfilAtendimentoService.createPerfil(t,e).subscribe(e=>{this.listarPerfil(t)},t=>{this.resError="O SERVIDOR AINDA N\xc3O POSSUE ACESSO DEFINIDO!"})}),this.globalService.saveShow("Salvo com Sucesso!","Perfil")}pegarDados(t,e){this._id=t,this._detalhamento=e}onDelete(){this.perfilAtendimentoService.remove(this._id).subscribe(t=>{this.listarPerfil(this.perfilForm.get("matricula").value),this.globalService.removeShow("Removido com Sucesso!",this._detalhamento)})}}return t.\u0275fac=function(e){return new(e||t)(a.Ib(b.b),a.Ib(c.a),a.Ib(n.a),a.Ib(d),a.Ib(m.a))},t.\u0275cmp=a.Cb({type:t,selectors:[["app-perfil-atendimento-form"]],decls:67,vars:8,consts:[[1,"col-md-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-6"],[1,"form-group","col-md-12"],["for","servidor"],["id","servidor","formControlName","matricula",1,"form-control",3,"blur"],["value","","selected",""],[3,"value",4,"ngFor","ngForOf"],[2,"font-weight","bold","color","blue"],[2,"color","red"],["class","d-flex justify-content-center mt-2","style","font-size: 12pt; font-weight: bold; margin-bottom: -20px;",4,"ngIf"],["for","detalheServico"],["multiple","","id","detalheServico","formControlName","servico","size","12",1,"form-control"],[1,"form-text","text-muted"],["class","d-flex justify-content-center mt-4","style","font-size: 14pt; font-weight: bold;",4,"ngIf"],["class","col-md-6",4,"ngIf"],["type","submit",1,"btn","btn-success","float-right","mt-2",3,"click"],[1,"fas","fa-save"],["id","ModalExclusao","tabindex","-1","role","dialog","aria-labelledby","TituloModalCentralizado","aria-hidden","true",1,"modal","fade"],["role","document",1,"modal-dialog","modal-dialog-centered"],[1,"modal-content"],[1,"modal-header"],["id","TituloModalCentralizado",1,"modal-title"],[1,"modal-body",2,"font-weight","bold"],[1,"modal-footer"],["type","button","data-dismiss","modal",1,"btn","btn-danger"],[1,"fas","fa-window-close"],[1,"btn","btn-success",3,"click"],[3,"value"],[1,"d-flex","justify-content-center","mt-2",2,"font-size","12pt","font-weight","bold","margin-bottom","-20px"],["role","alert",1,"alert","alert-danger"],[1,"d-flex","justify-content-center","mt-4",2,"font-size","14pt","font-weight","bold"],["id","tbsd",1,"table-responsive",2,"max-height","430px"],[1,"table","table-hover"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"],["data-toggle","modal","data-target","#ModalExclusao",1,"btn","btn-outline-danger","btn-sm",3,"click"],[1,"far","fa-trash-alt"]],template:function(t,e){1&t&&(a.Nb(0,"div",0),a.Nb(1,"nav"),a.Nb(2,"ol",1),a.Nb(3,"li",2),a.Nb(4,"a",3),a.kc(5,"In\xedcio"),a.Mb(),a.Mb(),a.Nb(6,"li",4),a.kc(7,"Cadastro do Perfil de Atendimento"),a.Mb(),a.Mb(),a.Mb(),a.Nb(8,"div",5),a.Nb(9,"div",6),a.Nb(10,"h1",7),a.kc(11," Perfil de Atendimento "),a.Mb(),a.Mb(),a.Nb(12,"div",6),a.Nb(13,"button",8),a.Jb(14,"i",9),a.kc(15,"\xa0Voltar "),a.Mb(),a.Mb(),a.Mb(),a.Nb(16,"form",10),a.Nb(17,"div",11),a.Nb(18,"div",12),a.kc(19," Formul\xe1rio para Cadastro do Perfil de Atendimento "),a.Mb(),a.Nb(20,"div",13),a.Nb(21,"div",14),a.Nb(22,"div",15),a.Nb(23,"div",14),a.Nb(24,"div",16),a.Nb(25,"label",17),a.kc(26,"Servidor:"),a.Mb(),a.Nb(27,"select",18),a.Ub("blur",(function(){return e.listarPerfil(e.perfilForm.get("matricula").value)})),a.Nb(28,"option",19),a.kc(29,"Escolha o servidor"),a.Mb(),a.jc(30,u,2,2,"option",20),a.Mb(),a.Mb(),a.Mb(),a.Nb(31,"div",14),a.Nb(32,"div",16),a.Nb(33,"span",21),a.kc(34," Confira a matr\xedcula: "),a.Nb(35,"span",22),a.kc(36),a.Mb(),a.Mb(),a.jc(37,v,3,1,"div",23),a.Mb(),a.Mb(),a.Nb(38,"div",14),a.Nb(39,"div",16),a.Nb(40,"label",24),a.kc(41,"Detalhamento de Servi\xe7os:"),a.Mb(),a.Nb(42,"select",25),a.jc(43,h,2,2,"option",20),a.Mb(),a.Nb(44,"small",26),a.kc(45,"Para multipla sele\xe7\xe3o mantenha a tecla Ctrl pressionada."),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.jc(46,p,2,0,"div",27),a.jc(47,N,25,2,"div",28),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Nb(48,"div"),a.Nb(49,"button",29),a.Ub("click",(function(){return e.onSubmit()})),a.Jb(50,"i",30),a.kc(51," \xa0Salvar "),a.Mb(),a.Mb(),a.Mb(),a.Nb(52,"div",31),a.Nb(53,"div",32),a.Nb(54,"div",33),a.Nb(55,"div",34),a.Nb(56,"h5",35),a.kc(57," Vamos l\xe1! "),a.Mb(),a.Mb(),a.Nb(58,"div",36),a.kc(59),a.Mb(),a.Nb(60,"div",37),a.Nb(61,"button",38),a.Jb(62,"i",39),a.kc(63,"\xa0Fechar "),a.Mb(),a.Nb(64,"button",40),a.Ub("click",(function(){return e.onDelete()})),a.Jb(65,"i",30),a.kc(66," \xa0Confirmar. "),a.Mb(),a.Mb(),a.Mb(),a.Mb(),a.Mb()),2&t&&(a.xb(16),a.ac("formGroup",e.perfilForm),a.xb(14),a.ac("ngForOf",e.servidores),a.xb(6),a.lc(e.perfilForm.get("matricula").value),a.xb(1),a.ac("ngIf",null!=e.resError),a.xb(6),a.ac("ngForOf",e.delServicos),a.xb(3),a.ac("ngIf",!e.perfilAtendimentos),a.xb(1),a.ac("ngIf",null!=e.perfilAtendimentos),a.xb(12),a.mc(" Confirmar exclus\xe3o do detalhamento ",e._detalhamento," "))},directives:[f.d,f.c,b.o,b.g,b.d,b.k,b.f,b.c,b.h,b.n,o.i,o.j,b.l],styles:[""]}),t})()}];let k=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[f.e.forChild(g)],f.e]}),t})(),x=(()=>{class t{}return t.\u0275mod=a.Gb({type:t}),t.\u0275inj=a.Fb({factory:function(e){return new(e||t)},imports:[[o.b,k,b.j,r.b]]}),t})()}}]);