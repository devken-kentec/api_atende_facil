(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"WK+y":function(t,a,e){"use strict";e.r(a),e.d(a,"AtivacaoModule",(function(){return A}));var i=e("ofXK"),b=e("tk/3"),r=e("3Pt+"),o=e("fXoL"),c=e("IzEk"),n=e("AytR");let s=(()=>{class t{constructor(t){this.http=t,this.API=n.a.API+"/atendeFacil/api"}senhaById(t){return this.http.get(`${this.API}/agendamento/senha/${t}`).pipe(Object(c.a)(1))}atualizarAgendamento(t,a,e){return this.http.get(`${this.API}/agendamento/atualizaragendamento/${t}/${a}/${e}`).pipe(Object(c.a)(1))}listarFilaAtivados(t){return this.http.get(`${this.API}/fila/ativados/${t}`).pipe(Object(c.a)(1))}updateAgendamento(t){return this.http.get(`${this.API}/agendamento/agendamentoFila/${t}`).pipe(Object(c.a)(1))}listDetalhamentoServico(t){return this.http.get(`${this.API}/detalhamentoservico/select/${t}`).pipe(Object(c.a)(1))}create(t){return this.http.post(this.API+"/fila",t).pipe(Object(c.a)(1))}}return t.\u0275fac=function(a){return new(a||t)(o.Rb(b.a))},t.\u0275prov=o.Eb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})();var d=e("tyNb");function l(t,a){if(1&t&&(o.Nb(0,"option",26),o.kc(1),o.Mb()),2&t){const t=a.$implicit;o.ac("value",t.id),o.xb(1),o.lc(t.descricao)}}function m(t,a){if(1&t&&(o.Nb(0,"div",14),o.Nb(1,"div",16),o.Nb(2,"label",23),o.kc(3,"Detalhamento do Servi\xe7o:"),o.Mb(),o.Nb(4,"select",24),o.jc(5,l,2,2,"option",25),o.Mb(),o.Mb(),o.Mb()),2&t){const t=o.Wb();o.xb(5),o.ac("ngForOf",t.detalhamentoServicos)}}function v(t,a){if(1&t){const t=o.Ob();o.Nb(0,"div",14),o.Nb(1,"div",27),o.Nb(2,"label",28),o.kc(3,"Prioridade:"),o.Mb(),o.Nb(4,"select",29),o.Nb(5,"option",30),o.kc(6,"Normal"),o.Mb(),o.Nb(7,"option",31),o.kc(8,"Priorit\xe1rio"),o.Mb(),o.Mb(),o.Mb(),o.Nb(9,"div",14),o.Nb(10,"div",32),o.Nb(11,"button",33),o.Ub("click",(function(){return o.dc(t),o.Wb().atualizarAgendamento()})),o.kc(12,"Atualizar Agendamento"),o.Mb(),o.Mb(),o.Mb(),o.Mb()}if(2&t){const t=o.Wb();o.xb(11),o.ac("disabled",!t.ativaForm.valid)}}function h(t,a){1&t&&(o.Nb(0,"div",34),o.Nb(1,"a",35),o.Nb(2,"span",36),o.kc(3,"\xd7"),o.Mb(),o.Mb(),o.Nb(4,"span",37),o.kc(5,"PR\xd3XIMO!!!"),o.Mb(),o.Mb())}function u(t,a){if(1&t){const t=o.Ob();o.Nb(0,"button",49),o.Ub("click",(function(){return o.dc(t),o.Wb(3).ativar()})),o.Jb(1,"i",50),o.kc(2,"\xa0 Ativar Senha "),o.Mb()}}function f(t,a){if(1&t&&(o.Nb(0,"div",47),o.jc(1,u,3,0,"button",48),o.Mb()),2&t){const t=o.Wb(2);o.xb(1),o.ac("ngIf",t.btnAtivarSenha)}}function p(t,a){if(1&t&&(o.Nb(0,"div",38),o.Nb(1,"div",39),o.Nb(2,"div",40),o.Nb(3,"b"),o.Nb(4,"u"),o.kc(5,"Comprovanete de Agendamento"),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Nb(6,"div"),o.Nb(7,"div"),o.Nb(8,"div",41),o.Nb(9,"div",42),o.Nb(10,"span",43),o.kc(11),o.Mb(),o.Mb(),o.Nb(12,"div",44),o.Nb(13,"div",42),o.kc(14),o.Mb(),o.Nb(15,"div",42),o.kc(16),o.Mb(),o.Nb(17,"div",42),o.kc(18),o.Mb(),o.Nb(19,"div",42),o.kc(20),o.Nb(21,"div",42),o.kc(22),o.Mb(),o.Mb(),o.Nb(23,"div",42),o.kc(24),o.Mb(),o.Nb(25,"div",42),o.kc(26),o.Mb(),o.Nb(27,"div",42),o.kc(28),o.Mb(),o.Nb(29,"div",42),o.kc(30," DETALHAMENTO:\xa0 "),o.Nb(31,"span",45),o.kc(32),o.Mb(),o.Mb(),o.Nb(33,"div",42),o.kc(34," STATUS:\xa0"),o.Nb(35,"span",45),o.kc(36),o.Mb(),o.Mb(),o.Nb(37,"div",42),o.kc(38," PRIORIDADE:\xa0"),o.Nb(39,"span",45),o.kc(40),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Jb(41,"br"),o.Mb(),o.jc(42,f,2,1,"div",46),o.Mb(),o.Mb()),2&t){const t=o.Wb();o.xb(11),o.mc("SENHA:\xa0",t.senha,""),o.xb(3),o.mc(" IDENTIFICADOR DO AGENDAMENTO:\xa0",t.identificador," "),o.xb(2),o.mc(" NOME:\xa0",t.nome," "),o.xb(2),o.mc(" CPF/CNPJ:\xa0",t.formatarPessoas(t.cpfCnpj)," "),o.xb(2),o.mc(" UNIDADE:\xa0",t.unidade," "),o.xb(2),o.mc(" ",t.endereco," "),o.xb(2),o.mc(" DATA:\xa0 ",t.formatarDate(t.data)," "),o.xb(2),o.mc(" HOR\xc1RIO:\xa0 ",t.horario," "),o.xb(2),o.mc(" SERVI\xc7O:\xa0 ",t.servico," "),o.xb(4),o.lc(t.detalhamentoServico),o.xb(4),o.lc(t.statusAgendamento),o.xb(4),o.lc(t.prioridade),o.xb(2),o.ac("ngIf","Agendado"==t.statusAgendamento)}}let N=(()=>{class t{constructor(t,a){this.fb=t,this.ativacaoService=a,this.mostra=!1,this.proximo=!1,this.btnAtivarSenha=!1}ngOnInit(){this.ativaForm=this.fb.group({id:[null,[]],identificador:["",[]],senha:["",[]],nome:["",[]],cpfCnpj:["",[]],unidade:["",[]],endereco:["",[]],data:["",[]],horario:["",[]],servico:["",[]],detalhamentoServicoId:["",[r.m.required]],detalhamentoServico:["",[]],statusAgendamento:["",[]],prioridade:["",[r.m.required]]})}senhaById(){this.ativacaoService.senhaById(this.ativaForm.get("id").value).subscribe(t=>{this.proximo=!1,this.identificador=t.identificador,this.senha=t.senha,this.nome=t.nome,this.cpfCnpj=t.cpfCnpj,this.unidade=t.unidade,this.endereco=t.endereco,this.data=t.data,this.horario=t.horario,this.servico=t.servico,this.detalhamentoServico=t.detalhamentoServico,this.statusAgendamento=t.statusAgendamento,this.prioridade=t.prioridade,this.mostra=!0,this.carregarDados(t),this.combobox(this.servico)})}carregarDados(t){this.ativaForm.patchValue(t)}atualizarAgendamento(){let t=this.ativaForm.get("identificador").value,a=this.ativaForm.get("prioridade").value,e=this.ativaForm.get("detalhamentoServicoId").value;this.ativacaoService.atualizarAgendamento(t,a,e).subscribe(t=>{this.btnAtivarSenha=!0,this.senhaById()})}combobox(t){this.ativacaoService.listDetalhamentoServico(t).subscribe(t=>this.detalhamentoServicos=t)}formatarDate(t){let a="",e=t.substring(8,10),i=t.substring(5,7),b=t.substring(0,4);return 1==e.length&&(e="0"+e),1==i.length&&(i="0"+i),a=e+"/"+i+"/"+b,a}formatarPessoas(t){let a;return 11==t.length&&(a=this.formatarCpf(t)),14==t.length&&(a=this.formatarCnpj(t)),a}formatarCpf(t){let a=t;return a.substring(0,3)+"."+a.substring(3,6)+"."+a.substring(6,9)+"-"+a.substring(9,11)}formatarCnpj(t){let a=t;return a.substring(0,2)+"."+a.substring(2,5)+"."+a.substring(5,8)+"/"+a.substring(8,12)+"-"+a.substring(12,14)}ativar(){this.mostra=!1,this.ativacaoService.updateAgendamento(this.ativaForm.get("id").value).subscribe(t=>{this.onSubmit()})}onSubmit(){this.ativaForm.get("id").disable(),this.ativacaoService.create(this.ativaForm.value).subscribe(t=>{this.proximo=!0,this.ativaForm.get("id").enable()})}}return t.\u0275fac=function(a){return new(a||t)(o.Ib(r.b),o.Ib(s))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-ativacao-form"]],decls:33,vars:5,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["type","button","routerLink","/",1,"btn","btn-warning","float-right"],[1,"fas","fa-backward"],["novalidate","",1,"needs-validation",3,"formGroup"],[1,"card",2,"box-shadow","5px 5px 10px #000"],[1,"card-header"],[1,"card-body"],[1,"form-row","col-md-12"],[1,"col-md-4"],[1,"form-group","col-md-12"],["for","id",1,"h5","col-md","d-flex","justify-content-center"],["id","id","type","text","formControlName","id",1,"form-control","text-center",3,"blur"],["class","form-row col-md-12",4,"ngIf"],[1,"col-md-8"],["class","alert alert-dark mt-4 text-center","role","alert",4,"ngIf"],["class","container col-md-8","style","box-shadow: 5px 5px 10px #000;",4,"ngIf"],["for","calendario"],["id","calendario","formControlName","detalhamentoServicoId",1,"form-control"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],[1,"col-md-12"],["for","unidade"],["id","unidade","formControlName","prioridade",1,"form-control"],["value","Normal"],["value","Priorit\xe1rio"],[1,"col-md-2",2,"margin-top","31px"],[1,"btn","btn-primary",3,"disabled","click"],["role","alert",1,"alert","alert-dark","mt-4","text-center"],["type","button","data-dismiss","alert","aria-label","Fechar",1,"close"],["aria-hidden","true"],[2,"color","green","font-weight","bold"],[1,"container","col-md-8",2,"box-shadow","5px 5px 10px #000"],[1,"row","mt-2"],[1,"h4","col-md","d-flex","justify-content-center","mt-2"],[1,"form-group","col-12",2,"font-size","10pt"],[1,"form-row","col-12","d-flex","justify-content-center"],[2,"font-size","16pt","font-weight","bold"],[2,"font-size","14pt","text-align","center"],[2,"font-weight","bold"],["class","d-flex justify-content-center",4,"ngIf"],[1,"d-flex","justify-content-center"],["type","button","class","btn btn-primary mb-3 ml-1",3,"click",4,"ngIf"],["type","button",1,"btn","btn-primary","mb-3","ml-1",3,"click"],[1,"fas","fa-tasks"]],template:function(t,a){1&t&&(o.Nb(0,"div",0),o.Nb(1,"nav"),o.Nb(2,"ol",1),o.Nb(3,"li",2),o.Nb(4,"a",3),o.kc(5,"In\xedcio"),o.Mb(),o.Mb(),o.Nb(6,"li",4),o.kc(7,"Ativa\xe7\xe3o de Senhas"),o.Mb(),o.Mb(),o.Mb(),o.Nb(8,"div",5),o.Nb(9,"div",6),o.Nb(10,"h1",7),o.kc(11," Ativa\xe7\xe3o de Senhas "),o.Mb(),o.Mb(),o.Nb(12,"div",6),o.Nb(13,"button",8),o.Jb(14,"i",9),o.kc(15,"\xa0Voltar "),o.Mb(),o.Mb(),o.Mb(),o.Nb(16,"form",10),o.Nb(17,"div",11),o.Nb(18,"div",12),o.kc(19," Formul\xe1rio para Ativa\xe7\xe3o de Senhas "),o.Mb(),o.Nb(20,"div",13),o.Nb(21,"div",14),o.Nb(22,"div",15),o.Nb(23,"div",14),o.Nb(24,"div",16),o.Nb(25,"label",17),o.kc(26,"IDENTIFICADOR DO AGENDAMENTO:"),o.Mb(),o.Nb(27,"input",18),o.Ub("blur",(function(){return a.senhaById()})),o.Mb(),o.Mb(),o.Mb(),o.jc(28,m,6,1,"div",19),o.jc(29,v,13,1,"div",19),o.Mb(),o.Nb(30,"div",20),o.jc(31,h,6,0,"div",21),o.jc(32,p,43,13,"div",22),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.xb(16),o.ac("formGroup",a.ativaForm),o.xb(12),o.ac("ngIf",a.mostra),o.xb(1),o.ac("ngIf",a.mostra),o.xb(2),o.ac("ngIf",a.proximo),o.xb(1),o.ac("ngIf",a.mostra))},directives:[d.d,d.c,r.o,r.g,r.d,r.a,r.f,r.c,i.j,r.k,i.i,r.h,r.n],styles:[""]}),t})();var M=e("KmtZ");function g(t,a){if(1&t&&(o.Nb(0,"tr"),o.Nb(1,"td"),o.kc(2),o.Jb(3,"br"),o.kc(4),o.Jb(5,"br"),o.kc(6),o.Mb(),o.Nb(7,"td"),o.kc(8),o.Jb(9,"br"),o.kc(10),o.Mb(),o.Nb(11,"td"),o.kc(12),o.Jb(13,"br"),o.kc(14),o.Mb(),o.Nb(15,"td"),o.kc(16),o.Jb(17,"br"),o.kc(18),o.Jb(19,"br"),o.kc(20),o.Mb(),o.Nb(21,"td"),o.kc(22),o.Jb(23,"br"),o.kc(24),o.Mb(),o.Nb(25,"td"),o.kc(26),o.Jb(27,"br"),o.kc(28),o.Jb(29,"br"),o.kc(30),o.Mb(),o.Mb()),2&t){const t=a.$implicit,e=o.Wb();o.xb(2),o.lc(t.id),o.xb(2),o.lc(e.globalService.formatarDate(t.ativacao)),o.xb(2),o.lc(e.globalService.formatarTime(t.ativacao)),o.xb(2),o.lc(t.identificador),o.xb(2),o.lc(t.prioridade),o.xb(2),o.lc(t.statusFila),o.xb(2),o.lc(t.statusAgendamento),o.xb(2),o.lc(t.senha),o.xb(2),o.lc(e.globalService.formatarDate(t.data)),o.xb(2),o.mc(" ",t.horario," "),o.xb(2),o.lc(t.nome),o.xb(2),o.lc(e.globalService.formatarPessoas(t.cpfCnpj)),o.xb(2),o.lc(t.servico),o.xb(2),o.lc(t.detalhamentoServico),o.xb(2),o.lc(t.unidade)}}const k=[{path:"",component:N},{path:"listarfila",component:(()=>{class t{constructor(t,a){this.ativacaoService=t,this.globalService=a}ngOnInit(){this.listarFilaAtivados()}listarFilaAtivados(){this.ativacaoService.listarFilaAtivados(this.globalService.getUnidade()).subscribe(t=>this.filas=t)}}return t.\u0275fac=function(a){return new(a||t)(o.Ib(s),o.Ib(M.a))},t.\u0275cmp=o.Cb({type:t,selectors:[["app-ativacao-list"]],decls:40,vars:1,consts:[[1,"col-12"],[1,"breadcrumb"],[1,"breadcrumb-item"],["routerLink","/"],[1,"breadcrumb-item","active"],[1,"row","mb-4"],[1,"col-md"],[1,"h3","border-left","pl-2"],["id","tbsd",1,"table-responsive"],[1,"table","table-hover"],[1,"bg-success","text-light"],[4,"ngFor","ngForOf"]],template:function(t,a){1&t&&(o.Nb(0,"div",0),o.Nb(1,"nav"),o.Nb(2,"ol",1),o.Nb(3,"li",2),o.Nb(4,"a",3),o.kc(5,"In\xedcio"),o.Mb(),o.Mb(),o.Nb(6,"li",4),o.kc(7,"Listagem"),o.Mb(),o.Mb(),o.Mb(),o.Nb(8,"div",5),o.Nb(9,"div",6),o.Nb(10,"h1",7),o.kc(11," Listagem de Senhas Ativas "),o.Mb(),o.Mb(),o.Mb(),o.Nb(12,"div",8),o.Nb(13,"table",9),o.Nb(14,"thead"),o.Nb(15,"tr",10),o.Nb(16,"th"),o.kc(17,"ID/Ativa\xe7\xe3o"),o.Mb(),o.Nb(18,"th"),o.kc(19,"Identificador/"),o.Jb(20,"br"),o.kc(21,"Prioridade"),o.Mb(),o.Nb(22,"th"),o.kc(23,"Status da Fila/"),o.Jb(24,"br"),o.kc(25,"Status do Agendamento"),o.Mb(),o.Nb(26,"th"),o.kc(27,"Senha/Data/Hor\xe1rio"),o.Mb(),o.Nb(28,"th"),o.kc(29,"Nome/"),o.Jb(30,"br"),o.kc(31,"CPF/CNPJ"),o.Mb(),o.Nb(32,"th"),o.kc(33,"Servi\xe7o/"),o.Jb(34,"br"),o.kc(35,"Detalhamento de Servi\xe7o/"),o.Jb(36,"br"),o.kc(37,"Unidade"),o.Mb(),o.Mb(),o.Mb(),o.Nb(38,"tbody"),o.jc(39,g,31,15,"tr",11),o.Mb(),o.Mb(),o.Mb(),o.Mb()),2&t&&(o.xb(39),o.ac("ngForOf",a.filas))},directives:[d.d,i.i],styles:[""]}),t})()}];let x=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(a){return new(a||t)},imports:[[d.e.forChild(k)],d.e]}),t})(),A=(()=>{class t{}return t.\u0275mod=o.Gb({type:t}),t.\u0275inj=o.Fb({factory:function(a){return new(a||t)},imports:[[i.b,x,r.j,b.b]]}),t})()}}]);